{"ast":null,"code":"import _regeneratorRuntime from\"/Users/omar/Desktop/Full_Stack_app/college-kitchen/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/omar/Desktop/Full_Stack_app/college-kitchen/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/omar/Desktop/Full_Stack_app/college-kitchen/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/omar/Desktop/Full_Stack_app/college-kitchen/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar2(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allRecipe=_useState2[0],setAllRecipe=_useState2[1];useEffect(function(){var allRec=[];Object.entries(props).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return allRec.push(value.name);});setAllRecipe(allRec);},[props]);var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),suggestions=_useState4[0],setSuggestions=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),text=_useState6[0],setText=_useState6[1];var onTextChanged=function onTextChanged(e){var value=e.target.value;var suggestions=[];if(value.length>2){var regex=new RegExp(\"^\".concat(value),'i');suggestions=allRecipe.sort().filter(function(v){return regex.test(v);});suggestions=_toConsumableArray(new Set(suggestions));//deletes duplicates\n}setSuggestions(suggestions);setText(value);};var suggestionSelected=function suggestionSelected(value){setText(value);setSuggestions([]);};var _useState7=useState(/*#__PURE__*/_jsx(\"div\",{})),_useState8=_slicedToArray(_useState7,2),renderSuggestions=_useState8[0],setRenderSuggestions=_useState8[1];useEffect(function(){var renderSuggestion=function renderSuggestion(){if(suggestions.length===0){return null;}return(//Here in suggestions are all the words that start with the inputed letters\nsuggestions.map(function(recipes,key){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return suggestionSelected(recipes);},className:\"dropdown-options\",value:recipes,children:recipes},key);}));};setRenderSuggestions(renderSuggestion);},[suggestions]);var showSearchedCards=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/recipes/\".concat(text));case 2:result=_context.sent;_context.next=5;return result.json();case 5:body=_context.sent;props.setRecipeInfo(body);props.setCount(body.length);if(!text){props.setSearch(\"Current Recipes\");}else{props.setSearch(text);}case 9:case\"end\":return _context.stop();}}},_callee);}));return function showSearchedCards(){return _ref3.apply(this,arguments);};}();if(props.willContainSearchBar){return/*#__PURE__*/_jsxs(\"div\",{id:\"navbar2\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"College Kitchen\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"home-chef-container\",children:[/*#__PURE__*/_jsx(Link,{id:\"home\",to:\"/Home\",className:\"icon-hover\",children:\" \"}),/*#__PURE__*/_jsx(Link,{id:\"chef\",className:\"icon-hover\",to:{pathname:\"/Profile\",aboutProps:{setRecipeInfo:props.setRecipeInfo}},children:\" \"})]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{id:\"navbar2\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"College Kitchen\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"search-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{value:text,onChange:onTextChanged,type:\"text\",placeholder:\"Search..\"}),/*#__PURE__*/_jsx(\"div\",{id:\"search-dropdown\",children:renderSuggestions})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:showSearchedCards})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"home-chef-container\",children:[/*#__PURE__*/_jsx(Link,{id:\"home\",to:\"/Home\",className:\"icon-hover\",children:\" \"}),/*#__PURE__*/_jsx(Link,{id:\"chef\",className:\"icon-hover\",to:{pathname:\"/Profile\",aboutProps:{setRecipeInfo:props.setRecipeInfo}},children:\" \"})]})]});}}export default Navbar2;","map":{"version":3,"sources":["/Users/omar/Desktop/Full_Stack_app/college-kitchen/src/components/Navbar2.js"],"names":["React","useState","useEffect","Link","Navbar2","props","allRecipe","setAllRecipe","allRec","Object","entries","map","key","value","push","name","suggestions","setSuggestions","text","setText","onTextChanged","e","target","length","regex","RegExp","sort","filter","v","test","Set","suggestionSelected","renderSuggestions","setRenderSuggestions","renderSuggestion","recipes","showSearchedCards","fetch","result","json","body","setRecipeInfo","setCount","setSearch","willContainSearchBar","pathname","aboutProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {Link} from 'react-router-dom';\n\n\nfunction Navbar2(props) {\n\n    const [allRecipe, setAllRecipe] = useState([]);\n\n    useEffect (() => {\n        let allRec = [];\n        Object.entries(props).map(([key, value]) => \n            allRec.push(value.name)\n        )\n        setAllRecipe(allRec);\n    }, [props]);\n\n    const [suggestions, setSuggestions] = useState([]);\n    const [text, setText] = useState(\"\");\n\n\n    const onTextChanged = (e) => {\n        const value = e.target.value;\n        let suggestions = [];\n        if (value.length > 2) {\n            const regex = new RegExp(`^${value}`, 'i');\n            suggestions = allRecipe.sort().filter(v => regex.test(v));\n            suggestions = [...new Set(suggestions)]; //deletes duplicates\n        }\n        setSuggestions(suggestions);\n        setText(value);\n    };\n\n    const suggestionSelected = (value) => {\n        setText(value);\n        setSuggestions([]);\n    }\n\n    const [renderSuggestions, setRenderSuggestions] = useState(<div></div>);\n\n    useEffect (() => {\n        const renderSuggestion = () => {\n            if (suggestions.length === 0) {\n                return null;\n            }\n            return (\n                //Here in suggestions are all the words that start with the inputed letters\n                suggestions.map((recipes, key) => <div onClick={() => suggestionSelected(recipes)} key={key} className=\"dropdown-options\" value={recipes}>{recipes}</div>)\n            )\n        };\n        setRenderSuggestions(renderSuggestion);\n    }, [suggestions]);\n\n    const showSearchedCards = async () => {\n        const result = await fetch(`/api/recipes/${text}`);\n        const body = await result.json();\n        props.setRecipeInfo(body);\n        props.setCount(body.length);\n        if (!text) {\n            props.setSearch(\"Current Recipes\");\n        } else {\n            props.setSearch(text);\n        }\n    }\n    if (props.willContainSearchBar) {\n        return (\n            <div id=\"navbar2\">\n                <h1>College Kitchen</h1>\n                \n                <div id=\"home-chef-container\">\n                    <Link id=\"home\" to=\"/Home\" className=\"icon-hover\"> </Link>\n                    <Link id=\"chef\" className=\"icon-hover\" to={{\n                        pathname: `/Profile`,\n                        aboutProps: {\n                            setRecipeInfo: props.setRecipeInfo\n                        }\n                    }}> </Link>\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <div id=\"navbar2\">\n                <h1>College Kitchen</h1>\n    \n                <div id=\"search-bar\">\n                    <div>\n                        <input value={text} onChange={onTextChanged} type=\"text\" placeholder=\"Search..\"></input>\n                        <div id=\"search-dropdown\">\n                            {renderSuggestions}\n                        </div>\n                    </div>\n                    <button type=\"submit\" onClick={showSearchedCards}></button>\n                </div>\n                \n                <div id=\"home-chef-container\">\n                    <Link id=\"home\" to=\"/Home\" className=\"icon-hover\"> </Link>\n                    <Link id=\"chef\" className=\"icon-hover\" to={{\n                        pathname: `/Profile`,\n                        aboutProps: {\n                            setRecipeInfo: props.setRecipeInfo\n                        }\n                    }}> </Link>\n                </div>\n            </div>\n        );\n\n    }\n\n    \n}\n\nexport default Navbar2;"]},"metadata":{},"sourceType":"module"}